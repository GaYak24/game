<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëª¸ìœ¼ë¡œ ë§í•´ìš” ê²Œì„</title>
  <style>
    /* ë‚˜ëˆ”ìŠ¤í€˜ì–´ë¼ìš´ë“œ ì›¹í°íŠ¸ ë¡œë“œ */
    @font-face {
      font-family: 'NanumSquareRound';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001/NanumSquareRoundB.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }

    /* ê¸°ë³¸ ë¦¬ì…‹ ë° ë‚˜ëˆ”ìŠ¤í€˜ì–´ë¼ìš´ë“œ ì ìš© */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { width: 100%; height: 100%; }
    body { 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      background: #eee; 
      font-family: 'NanumSquareRound', sans-serif;
    }
    /* ê²Œì„ ì»¨í…Œì´ë„ˆ: í™”ë©´ ê½‰ ì±„ìš°ë˜ 16:9 ë¹„ìœ¨ (ê°€ë¡œê°€ ë” ê¸¸ê²Œ) */
    #gameContainer {
      position: relative;
      width: 100vw;
      height: 100vh;
      max-width: calc(100vh * (16/9));
      background: #fff;
      border: 1px solid #ccc;
    }
    /* ìƒë‹¨ í—¤ë”: ì¢Œì¸¡ í™ˆë²„íŠ¼, ì¤‘ì•™ ì£¼ì œë°•ìŠ¤, ìš°ì¸¡ íƒ€ì´ë¨¸ */
    .header {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 10%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 10px;
    }
    .home-button {
      font-size: 3em;
      cursor: pointer;
    }
    .subject-boxes {
      display: flex;
      gap: 10px;
    }
    .subject-box {
      padding: 5px 10px;
      background: #f0f0f0;
      border: 1px solid #ccc;
      cursor: pointer;
      user-select: none;
      font-size: 2em;
    }
    /* íƒ€ì´ë¨¸ (ê¸€ì í¬ê¸° 2ë°° ì ìš©) */
    .timer {
      font-size: 4.8em;
    }
    /* ë©”ì¸ ì˜ì—­ */
    #mainArea {
      position: absolute;
      top: 15%;
      bottom: 15%;
      left: 5%;
      right: 5%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    #message {
      font-size: 3em;
      margin-bottom: 20px;
    }
    #promptButton {
      padding: 10px 20px;
      font-size: 2em;
      cursor: pointer;
    }
    /* ì œì‹œì–´ ë° ì¢…ë£Œ ë©”ì‹œì§€: 12em í¬ê¸° */
    #promptWord {
      margin-top: 20px;
      font-size: 12em;
      color: red;
      cursor: pointer;
      user-select: none;
    }
    #endScreen {
      display: none;
      font-size: 12em;
      color: red;
    }
    /* í•˜ë‹¨ í’‹í„°: ì¢Œì¸¡ ì ìˆ˜, ìš°ì¸¡ íŒ¨ìŠ¤ ë²„íŠ¼ (ì•½ê°„ ìœ„ìª½ì— ìœ„ì¹˜) */
    .footer {
      position: absolute;
      bottom: 5%;
      left: 0;
      height: 10%;
      width: 100%;
      padding: 0 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    /* ì ìˆ˜ (ê¸€ì í¬ê¸° 2ë°° ì ìš©) */
    .score {
      font-size: 4.8em;
    }
    /* íŒ¨ìŠ¤ ë²„íŠ¼ (ê¸€ì í¬ê¸° 2ë°° ì ìš©, ê¸°ë³¸ ë°°ê²½ìƒ‰ ì§€ì •) */
    #passButton {
      font-size: 4em;
      padding: 10px 20px;
      cursor: pointer;
      background-color: #f0f0f0;
      border: none;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div id="gameContainer">
    <!-- ìƒë‹¨ í—¤ë”: í™ˆë²„íŠ¼, ì£¼ì œ ë²„íŠ¼, íƒ€ì´ë¨¸ -->
    <div class="header">
      <div class="home-button" onclick="goHome()">ğŸ </div>
      <div class="subject-boxes">
        <div class="subject-box" onclick="selectSubject('ìŒì‹')">ìŒì‹</div>
        <div class="subject-box" onclick="selectSubject('ë¬¼ê±´')">ë¬¼ê±´</div>
        <div class="subject-box" onclick="selectSubject('ì§ì—…')">ì§ì—…</div>
        <div class="subject-box" onclick="selectSubject('ë™ë¬¼')">ë™ë¬¼</div>
      </div>
      <div class="timer" id="timerDisplay">3ë¶„ 00ì´ˆ</div>
    </div>
    
    <!-- ë©”ì¸ ì˜ì—­ -->
    <div id="mainArea">
      <div id="message"></div>
      <button id="promptButton" style="display: none;" onclick="startGame()"></button>
      <div id="promptWord" onclick="nextPrompt()" style="display: none;"></div>
      <div id="endScreen">ì¢…ë£Œ</div>
    </div>
    
    <!-- í•˜ë‹¨ í’‹í„°: ì¢Œì¸¡ ì ìˆ˜, ìš°ì¸¡ íŒ¨ìŠ¤ ë²„íŠ¼ -->
    <div class="footer">
      <div class="score" id="scoreDisplay">ì ìˆ˜: 0</div>
      <button id="passButton" onclick="passPrompt()">íŒ¨ìŠ¤ (<span id="passCount">3</span>/3)</button>
    </div>
  </div>
  
  <script>
    // ê° ì£¼ì œë³„ ì œì‹œì–´ ë°ì´í„°
    const promptsData = {
      'ìŒì‹': ["íŒŒìŠ¤íƒ€","í”¼ì","í–„ë²„ê±°","ì•„ì´ìŠ¤í¬ë¦¼","í•«ë„ê·¸","ì´ˆë°¥","ì¹˜í‚¨","íŒì½˜","ìˆ˜ë°•","ë°”ë‚˜ë‚˜","ì‚¬ê³¼","ì˜¥ìˆ˜ìˆ˜","ë„ë„›","ê³„ë€í›„ë¼ì´","ê°ìíŠ€ê¹€","ì¼€ì´í¬","êµ­ë°¥","ê·¤","ë¹„ë¹”ë°¥","ë‘ë¦¬ì•ˆ","ë ˆëª¬","í¬ë„","ì´ˆì½œë¦¿","ë”¸ê¸°","ì‚¼ê²¹ì‚´","ì‚°ë‚™ì§€","ê»Œ","ì»¤í”¼","íŒ¥ë¹™ìˆ˜"],
      'ì§ì—…': ["ì˜ì‚¬","ì†Œë°©ê´€","ê²½ì°°ê´€","ì„ ìƒë‹˜","ê³¼í•™ì","ê°€ìˆ˜","ë°°ìš°","ê°œê·¸ë§¨","í™”ê°€","ì‚¬ì§„ì‘ê°€","ìš”ë¦¬ì‚¬","ì›¨ì´í„°","ë†ë¶€","íšŒì‚¬ì›","ì€í–‰ì›","íƒë°°ê¸°ì‚¬","ìš´ì „ê¸°ì‚¬","ëŒ„ì„œ","íŒŒì¼ëŸ¿","ë§ˆìˆ ì‚¬","ì•½ì‚¬","êµ°ì¸","ì¹˜ê³¼ì˜ì‚¬","ì‚¬ì„œ","ì²œë¬¸í•™ì","DJ","í”„ë¡œ ê²Œì´ë¨¸","ë¯¸ìš©ì‚¬","í”¼ì•„ë‹ˆìŠ¤íŠ¸","ìš°ì£¼ë¹„í–‰ì‚¬"],
      'ë™ë¬¼': ["ì‚¬ì","í˜¸ë‘ì´","ì½”ë¼ë¦¬","ê¸°ë¦°","ê³°","ëŠ‘ëŒ€","ê³ ë¦´ë¼","ìº¥ê±°ë£¨","ë‚˜ë¬´ëŠ˜ë³´","ì½”ë¿”ì†Œ","ë‹¤ëŒì¥","ì•…ì–´","ê±°ë¶ì´","ë±€","ë…ìˆ˜ë¦¬","ìƒì–´","ëŒê³ ë˜","ë¬¸ì–´","ì•µë¬´ìƒˆ","ê°œêµ¬ë¦¬","ë¯¸ì–´ìº£","íŒ¬ë”","ì¹˜íƒ€","ì›ìˆ­ì´","ëª©ë„ë¦¬ë„ë§ˆë±€","ì•ŒíŒŒì¹´","ë‚™íƒ€","í† ë¼","í•´ë‹¬"],
      'ë¬¼ê±´': ["ì—´ì‡ ","ì˜·ì¥","ì‹œê³„","ì „í™”","ì‹ ë¬¸","ì—ì–´ì»¨","ì„ í’ê¸°","ì²­ì†Œê¸°","í…”ë ˆë¹„ì „","ì»´í“¨í„°","ì°½ë¬¸","íœ´ëŒ€í°","ì¹´ë©”ë¼","ì¹¨ëŒ€","ì¹ íŒ","ì¹«ì†”","ì¹˜ì•½","í™”ì¥ì§€","ë³€ê¸°","ì„¸ìˆ«ëŒ€ì•¼","íœ´ì§€í†µ","ìˆ˜ê±´","ë°”ê°€ì§€","ì²´ì¤‘ê³„","ê±°ìš¸","ë“œë¼ì´ê¸°","ë¹—","ë¹„ëˆ„","ìƒ¤ì›Œê¸°","ë¶","íŒ½ì´","ìŠ¤ì¼€ì¹˜ë¶","ì„¸ë°œìì „ê±°","í’ì„ ","ì‹¤ë¡œí°"]
    };
    
    let currentSubject = null;       // í˜„ì¬ ì„ íƒëœ ì£¼ì œ
    let remainingPrompts = [];         // ì´ë²ˆ ì‹¸ì´í´ì— ë‚¨ì€ ì œì‹œì–´ë“¤
    let score = 0;                     // ë„˜ê¸´ ì œì‹œì–´ ê°œìˆ˜ (ì ìˆ˜)
    let timer;                         // íƒ€ì´ë¨¸ interval ë³€ìˆ˜
    let timeLeft = 180;                // 180ì´ˆ (3ë¶„)
    let gameStarted = false;           // ê²Œì„ ì‹œì‘ ì—¬ë¶€
    let freePasses = 3;                // ë¬´ë£Œ íŒ¨ìŠ¤ íšŸìˆ˜ (ì²˜ìŒ 3íšŒ)
    let extraPasses = 0;               // ë¬´ë£Œ íŒ¨ìŠ¤ ì´ˆê³¼ íšŸìˆ˜ (4ë²ˆì§¸ë¶€í„°)
    
    // ì£¼ì œ ì„ íƒ ì‹œ ìƒíƒœ ì´ˆê¸°í™” ë° ì¤€ë¹„ í™”ë©´ í‘œì‹œ
    function selectSubject(subject) {
      clearInterval(timer);
      timeLeft = 180;
      score = 0;
      gameStarted = false;
      freePasses = 3;
      extraPasses = 0;
      updateScore();
      updateTimerDisplay();
      updatePassDisplay();
      // íŒ¨ìŠ¤ ë²„íŠ¼ ê¸°ë³¸ ë°°ê²½ìƒ‰ ë³µì›
      document.getElementById('passButton').style.backgroundColor = "#f0f0f0";
      currentSubject = subject;
      // ì œì‹œì–´ ë°°ì—´ ë³µì œ (í•œ ì‹¸ì´í´ ë‚´ ì¤‘ë³µ ë°©ì§€)
      remainingPrompts = [...promptsData[subject]];
      // ì¤€ë¹„ ë©”ì‹œì§€ì™€ ì œì‹œì–´ í™•ì¸ ë²„íŠ¼ í‘œì‹œ
      document.getElementById('message').innerText = "ì¤€ë¹„í•˜ì„¸ìš”~";
      document.getElementById('promptButton').style.display = "block";
      document.getElementById('promptButton').innerText = subject + "ì˜ ì œì‹œì–´ë¥¼ í™•ì¸í•˜ì„¸ìš”";
      document.getElementById('promptWord').style.display = "none";
      document.getElementById('endScreen').style.display = "none";
    }
    
    // ì œì‹œì–´ í™•ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ ê²Œì„ ì‹œì‘
    function startGame() {
      if (gameStarted) return;
      gameStarted = true;
      document.getElementById('message').innerText = "";
      document.getElementById('promptButton').style.display = "none";
      showNextPrompt();
      startTimer();
    }
    
    // ì œì‹œì–´ ë¬´ì‘ìœ„ ì„ íƒ ë° í‘œì‹œ
    function showNextPrompt() {
      if (remainingPrompts.length === 0) {
        remainingPrompts = [...promptsData[currentSubject]];
      }
      const index = Math.floor(Math.random() * remainingPrompts.length);
      const promptWord = remainingPrompts.splice(index, 1)[0];
      document.getElementById('promptWord').innerText = promptWord;
      document.getElementById('promptWord').style.display = "block";
    }
    
    // ì œì‹œì–´ í´ë¦­ ì‹œ: ì ìˆ˜ ì¦ê°€ í›„ ë‹¤ìŒ ì œì‹œì–´ í‘œì‹œ
    function nextPrompt() {
      if (!gameStarted) return;
      score++;
      updateScore();
      showNextPrompt();
    }
    
    // íŒ¨ìŠ¤ ë²„íŠ¼ í´ë¦­ ì‹œ: ë¬´ë£Œ íŒ¨ìŠ¤ê°€ ë‚¨ì•„ìˆìœ¼ë©´ freePasses ê°ì†Œ, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ extraPasses ì¦ê°€ í›„ ì ìˆ˜ ê°ì 
    function passPrompt() {
      if (!gameStarted) return;
      if (freePasses > 0) {
        freePasses--;
      } else {
        extraPasses++;
        score--;  // extraPasses ì ìš© ì‹œ ì ìˆ˜ ê°ì 
      }
      updateScore();
      updatePassDisplay();
      // extraPassesê°€ 1 ì´ìƒì´ë©´ íŒ¨ìŠ¤ ë²„íŠ¼ ë°°ê²½ìƒ‰ì„ ì£¼í™©ìƒ‰ìœ¼ë¡œ ë³€ê²½
      if (extraPasses > 0) {
        document.getElementById('passButton').style.backgroundColor = "orange";
      } else {
        document.getElementById('passButton').style.backgroundColor = "#f0f0f0";
      }
      showNextPrompt();
    }
    
    // ì ìˆ˜ ì—…ë°ì´íŠ¸
    function updateScore() {
      document.getElementById('scoreDisplay').innerText = "ì ìˆ˜: " + score;
    }
    
    // íŒ¨ìŠ¤ íšŸìˆ˜ ì—…ë°ì´íŠ¸: freePassesê°€ ë‚¨ìœ¼ë©´ í•´ë‹¹ ìˆ«ì, ë¬´ë£Œ íŒ¨ìŠ¤ê°€ ëª¨ë‘ ì†Œì§„ë˜ì—ˆìœ¼ë©´ extraPassesê°€ 0ì¼ ë•Œ "0", ì•„ë‹ˆë©´ "-1", "-2" ë“±ìœ¼ë¡œ í‘œì‹œ
    function updatePassDisplay() {
      let passDisplay = "";
      if (freePasses > 0) {
        passDisplay = freePasses;
      } else if (extraPasses > 0) {
        passDisplay = "-" + extraPasses;
      } else {
        passDisplay = "0";
      }
      document.getElementById('passCount').innerText = passDisplay;
    }
    
    // íƒ€ì´ë¨¸ ì‹œì‘
    function startTimer() {
      timer = setInterval(function() {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0) {
          clearInterval(timer);
          endGame();
        }
      }, 1000);
    }
    
    // íƒ€ì´ë¨¸ í‘œì‹œ ì—…ë°ì´íŠ¸
    function updateTimerDisplay() {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      document.getElementById('timerDisplay').innerText = minutes + "ë¶„ " + (seconds < 10 ? "0" + seconds : seconds) + "ì´ˆ";
    }
    
    // ê²Œì„ ì¢…ë£Œ ì²˜ë¦¬
    function endGame() {
      document.getElementById('promptWord').style.display = "none";
      document.getElementById('promptButton').style.display = "none";
      document.getElementById('message').innerText = "";
      document.getElementById('endScreen').style.display = "block";
    }
    
    // í™ˆ ë²„íŠ¼ í´ë¦­ ì‹œ (ë¦¬ì…‹)
    function goHome() {
      clearInterval(timer);
      currentSubject = null;
      remainingPrompts = [];
      score = 0;
      timeLeft = 180;
      freePasses = 3;
      extraPasses = 0;
      gameStarted = false;
      document.getElementById('message').innerText = "";
      document.getElementById('promptButton').style.display = "none";
      document.getElementById('promptWord').style.display = "none";
      document.getElementById('endScreen').style.display = "none";
      updateScore();
      updateTimerDisplay();
      updatePassDisplay();
      document.getElementById('passButton').style.backgroundColor = "#f0f0f0";
    }
  </script>
</body>
</html>
